<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arix Signature Christmas Tree</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #01160e;
            color: #d4af37;
            font-family: 'Montserrat', sans-serif;
            overflow: hidden;
        }
        h1, h2, h3, .luxury-font {
            font-family: 'Cinzel', serif;
        }
        .animate-fade-in {
            animation: fadeIn 2s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body>
    <div id="root">
        <!-- Overlay UI -->
        <div class="fixed inset-0 pointer-events-none flex flex-col justify-between p-8 md:p-12 z-10">
            <!-- Header -->
            <div class="flex justify-between items-start">
                <div class="animate-fade-in pointer-events-auto">
                    <div class="mb-4">
                        <p class="text-[#f9e27d]/80 text-[10px] md:text-xs uppercase tracking-[0.4em] font-medium drop-shadow-sm">
                            圣诞快乐 to 荣耀鱼
                        </p>
                    </div>
                    
                    <h1 class="text-4xl md:text-6xl text-[#d4af37] tracking-widest font-bold">
                        ARIX
                    </h1>
                    <p class="text-[#0a5c36] text-sm md:text-lg uppercase tracking-[0.3em] font-light">
                        Signature Interactive
                    </p>
                </div>
                
                <div class="text-right pointer-events-auto">
                    <p class="text-[#d4af37] text-xs uppercase tracking-widest font-semibold opacity-60">
                        Est. 2024
                    </p>
                </div>
            </div>

            <!-- Footer / Controls -->
            <div class="flex flex-col items-center gap-6">
                <div class="pointer-events-auto flex gap-4 md:gap-8 bg-black/30 backdrop-blur-xl border border-[#d4af37]/20 p-2 rounded-full px-6 py-3">
                    <button 
                        id="disperseBtn"
                        class="px-4 py-2 uppercase tracking-widest text-xs md:text-sm transition-all duration-500 rounded-full text-[#d4af37] hover:text-[#f9e27d]"
                    >
                        Disperse
                    </button>
                    <button 
                        id="assembleBtn"
                        class="px-4 py-2 uppercase tracking-widest text-xs md:text-sm transition-all duration-500 rounded-full bg-[#d4af37] text-[#01261a] font-bold shadow-[0_0_20px_rgba(212,175,55,0.4)]"
                    >
                        Assemble
                    </button>
                </div>

                <div class="text-center">
                    <h2 id="sceneTitle" class="text-[#d4af37] text-xl md:text-2xl luxury-font mb-1">
                        Grand Emerald Fir
                    </h2>
                    <p class="text-[#0a5c36] text-[10px] md:text-xs uppercase tracking-[0.5em]">
                        A Cinematic Digital Experience
                    </p>
                </div>
            </div>
        </div>

        <!-- 3D Canvas -->
        <canvas id="canvas" style="width: 100vw; height: 100vh;"></canvas>
    </div>

    <script type="module">
        import * as THREE from 'https://esm.sh/three@0.182.0';

        // Scene setup
        const scene = new THREE.Scene();
        scene.background = new THREE.Color('#000805');
        scene.fog = new THREE.Fog('#000805', 5, 60);

        const camera = new THREE.PerspectiveCamera(35, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.set(0, 1, 18);

        const canvas = document.getElementById('canvas');
        const renderer = new THREE.WebGLRenderer({ canvas, antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        renderer.shadowMap.enabled = true;
        renderer.shadowMap.type = THREE.PCFSoftShadowMap;

        // Lights
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
        scene.add(ambientLight);

        const pointLight1 = new THREE.PointLight('#d4af37', 3.5);
        pointLight1.position.set(15, 15, 15);
        scene.add(pointLight1);

        const pointLight2 = new THREE.PointLight('#10b981', 2.0);
        pointLight2.position.set(-15, -10, -15);
        scene.add(pointLight2);

        const pointLight3 = new THREE.PointLight('#ffffff', 1.5);
        pointLight3.position.set(0, 5, 10);
        scene.add(pointLight3);

        const spotLight = new THREE.SpotLight('#ffffff', 5, 0, 0.5, 1);
        spotLight.position.set(0, 20, 5);
        spotLight.castShadow = true;
        scene.add(spotLight);

        // Create stars
        const starsGeometry = new THREE.BufferGeometry();
        const starsCount = 3000;
        const starsPositions = new Float32Array(starsCount * 3);

        for (let i = 0; i < starsCount; i++) {
            const r = 30 + Math.random() * 20;
            const theta = Math.random() * Math.PI * 2;
            const phi = Math.acos(2 * Math.random() - 1);
            
            starsPositions[i * 3 + 0] = r * Math.sin(phi) * Math.cos(theta);
            starsPositions[i * 3 + 1] = r * Math.sin(phi) * Math.sin(theta);
            starsPositions[i * 3 + 2] = r * Math.cos(phi);
        }

        starsGeometry.setAttribute('position', new THREE.BufferAttribute(starsPositions, 3));
        const starsMaterial = new THREE.PointsMaterial({
            color: '#d4af37',
            size: 2,
            transparent: true,
            opacity: 0.8
        });
        const stars = new THREE.Points(starsGeometry, starsMaterial);
        scene.add(stars);

        // Create tree particles
        const treeGeometry = new THREE.BufferGeometry();
        const treeCount = 5000;
        const treePositions = new Float32Array(treeCount * 3);
        const treeColors = new Float32Array(treeCount * 3);

        for (let i = 0; i < treeCount; i++) {
            // Tree shape (cone)
            const y = (Math.random() - 0.5) * 12;
            const heightFactor = (y + 6) / 12;
            const radius = (1 - heightFactor) * 4 + 0.5;
            const angle = Math.random() * Math.PI * 2;
            
            treePositions[i * 3 + 0] = Math.cos(angle) * radius * (0.5 + Math.random() * 0.5);
            treePositions[i * 3 + 1] = y;
            treePositions[i * 3 + 2] = Math.sin(angle) * radius * (0.5 + Math.random() * 0.5);

            // Colors (green with gold highlights)
            const isGold = Math.random() > 0.7;
            if (isGold) {
                treeColors[i * 3 + 0] = 0.83; // R
                treeColors[i * 3 + 1] = 0.69; // G
                treeColors[i * 3 + 2] = 0.22; // B
            } else {
                treeColors[i * 3 + 0] = 0.04; // R
                treeColors[i * 3 + 1] = 0.36; // G
                treeColors[i * 3 + 2] = 0.21; // B
            }
        }

        treeGeometry.setAttribute('position', new THREE.BufferAttribute(treePositions, 3));
        treeGeometry.setAttribute('color', new THREE.BufferAttribute(treeColors, 3));

        const treeMaterial = new THREE.PointsMaterial({
            size: 8,
            transparent: true,
            opacity: 0.9,
            vertexColors: true,
            blending: THREE.AdditiveBlending
        });

        const tree = new THREE.Points(treeGeometry, treeMaterial);
        tree.position.y = -1;
        scene.add(tree);

        // Add star on top
        const starGeometry = new THREE.ConeGeometry(0.3, 1, 5);
        const starMaterial = new THREE.MeshStandardMaterial({
            color: '#d4af37',
            emissive: '#b8860b',
            emissiveIntensity: 0.5
        });
        const topStar = new THREE.Mesh(starGeometry, starMaterial);
        topStar.position.set(0, 5, 0);
        scene.add(topStar);

        // Animation state
        let isTreeShape = true;
        let animationProgress = 1;

        // Controls
        const disperseBtn = document.getElementById('disperseBtn');
        const assembleBtn = document.getElementById('assembleBtn');
        const sceneTitle = document.getElementById('sceneTitle');

        function updateButtonStates() {
            if (isTreeShape) {
                assembleBtn.className = "px-4 py-2 uppercase tracking-widest text-xs md:text-sm transition-all duration-500 rounded-full bg-[#d4af37] text-[#01261a] font-bold shadow-[0_0_20px_rgba(212,175,55,0.4)]";
                disperseBtn.className = "px-4 py-2 uppercase tracking-widest text-xs md:text-sm transition-all duration-500 rounded-full text-[#d4af37] hover:text-[#f9e27d]";
                sceneTitle.textContent = "Grand Emerald Fir";
            } else {
                disperseBtn.className = "px-4 py-2 uppercase tracking-widest text-xs md:text-sm transition-all duration-500 rounded-full bg-[#d4af37] text-[#01261a] font-bold shadow-[0_0_20px_rgba(212,175,55,0.4)]";
                assembleBtn.className = "px-4 py-2 uppercase tracking-widest text-xs md:text-sm transition-all duration-500 rounded-full text-[#d4af37] hover:text-[#f9e27d]";
                sceneTitle.textContent = "Stellar Fusion";
            }
        }

        disperseBtn.addEventListener('click', () => {
            isTreeShape = false;
            updateButtonStates();
        });

        assembleBtn.addEventListener('click', () => {
            isTreeShape = true;
            updateButtonStates();
        });

        // Mouse controls
        let mouseX = 0, mouseY = 0;
        document.addEventListener('mousemove', (event) => {
            mouseX = (event.clientX / window.innerWidth) * 2 - 1;
            mouseY = -(event.clientY / window.innerHeight) * 2 + 1;
        });

        // Animation loop
        function animate() {
            requestAnimationFrame(animate);

            const time = Date.now() * 0.001;

            // Animate stars rotation
            stars.rotation.y = time * 0.01;
            stars.rotation.x = time * 0.005;

            // Animate top star
            topStar.rotation.y = time * 0.8;
            topStar.position.y = 5 + Math.sin(time * 2) * 0.1;

            // Camera movement based on mouse
            camera.position.x += (mouseX * 2 - camera.position.x) * 0.02;
            camera.position.y += (mouseY * 2 + 1 - camera.position.y) * 0.02;
            camera.lookAt(0, 0, 0);

            // Tree animation (simplified)
            const targetProgress = isTreeShape ? 1 : 0;
            animationProgress += (targetProgress - animationProgress) * 0.02;

            // Simple particle animation
            tree.rotation.y = time * 0.1;

            renderer.render(scene, camera);
        }

        // Handle window resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        // Start animation
        animate();
        updateButtonStates();

        console.log('Christmas Tree loaded successfully!');
    </script>
</body>
</html>
